


Link:: [link](https://ces-ltd.atlassian.net/browse/MPS-124)

Detail:: Remove all instance MPS assets out RETAIL01
Detail:: Move in all MPS assets to new server
Detail:: Make sure all functions run correctly

Connections Changed
- SSIS Packages
	- Data Source=USORAWASP001A;Initial Catalog=market_services;Provider=MSOLEDBSQL; Integrated Security=SSPI;AutoTranslate=False;
	- <mark style="background: #FFB86CA6;">Data Source=USORAWASP001A;Initial Catalog=msdb;Provider=MSOLEDBSQL;Integrated Security=SSPI;Application Name=SSIS-MSDB-$PackageName;Auto Translate=False;</mark>
- CES_Retail
	- <mark style="background: #FFB86CA6;">Data Source=USORAWASP001A;Initial Catalog=market_services;Provider=SQLNCLI11.1;User Id=svc.rsqljobops.dev;Password=RPivLJ6kN*#jMyGcpNhH;</mark>
- Folder FTP
	- \\cesftp01.ces.local\FTPRoot\ChariotEnergy (Verify Permission)
- Development Test 
	- Data Source=6XG71J3\SSISDEVTSQL;Initial Catalog=market_services;Provider=MSOLEDBSQL;Integrated Security=SSPI;Auto Translate=False;
	- Data Source=6XG71J3\SSISDEVTSQL;Initial Catalog=msdb;Provider=MSOLEDBSQL;Integrated Security=SSPI;Application Name=SSIS-MSDB-$PackageName;Auto Translate=False;
 
Email
- pzoting@ces-ltd.com; bao.doan@ces-ltd.com;
- pzoting@ces-ltd.com; bao.doan@ces-ltd.com;

What the question?


Script should be prepared
- Delete all table, stored procedure, job, package SSIS

Configurations
- FTP Path File configurations?
- Connection String 'Integration Security'
- Questions?
	- How to run SSIS package on Server

Pull Request
- Update all script in 'SSIS/TSQL Scripts/ManagementPortfolioServives'
- Preview anything before changing

Have a call with David Zhu
- Make sure all configuration had done

Link reference
- [Integration Services (SSIS) Package and Project Parameters](https://learn.microsoft.com/en-us/sql/integration-services/integration-services-ssis-package-and-project-parameters?view=sql-server-ver16)
- 

All thing change on new server
- Upgrade version SSIS package (Convert SQL Server 2022)
- Create environment and mapping to job (missing when move from RETAIL01)
- Change SQL Provider SQLNCLI11.1 -> MSOLEDBSQL
- Redeploy Stored Procedure using DatabaseName 'RETAIL' (remove retail.)



Developement
- [ ] Create new repository for MPS 
	- [ ] Move table, stored procedure script
	- [ ] Move SSIS project
	- [ ] Create folder job script

Unit Test
- [ ] Run all processes MPS

SSIS Toolkit
- [ ] Try to integrate SFTP connection
- [ ] Test with new file

Account SFTP
- USORAWASP001A-ChariotEnergy
- G160f0N0sf!EwzGL&

@[$Project::SFTPConnection]

HostName=ftp.ces-ltd.com;Port=22;ServerType=Unknown;AuthenticationType=Key;PathToKeyFile="C:\Users\bao.doan\OneDrive - Customized Energy Solutions, Ltd\CES-Workplaces\Ticket\PROCESS\MPS-124\USORAWASP001A-ChariotEnergy.ppk";UserName=USORAWASP001A-ChariotEnergy;ProxyType=None;ProxyUsername=;ProxyServer=;ProxyServerPort=0;Timeout=120;DownloadBufferSize=49152;DownloadQueueLength=8;UploadBufferSize=49152;UploadQueueLength=8;UseLargeBuffers=True;EnableTransferQueue=True;UseSmallPackets=False;UseCompression=True;MinimumRsaKeySize=1024;KeyExchangeAlgorithms="DiffieHellmanGroup14SHA1, DiffieHellmanGroupExchangeSHA1, DiffieHellmanGroupExchangeSHA256, ECDiffieHellmanNistP256, Curve25519, DiffieHellmanOakleyGroupSHA256, DiffieHellmanOakleyGroupSHA512";EncryptionAlgorithms="TripleDES, AES, Twofish";UseLegacyGroupExchange=True;PreferredHostKeyAlgorithm=RSA;HostKeyAlgorithms="Certificate, DSS, ECDsaNistP256, ED25519, RSA";KeepAliveInterval=0;PathToLogFile=;OutputLog=False;LogLevel=Off;TransferType=Binary;Encoding=65001;UseStreamedDataTransfer=True;UseAsyncDataTransfer=True
